<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ —Ä–µ–∫–ª–∞–º–µ</title>
    <style>
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        header {
            background: linear-gradient(135deg, #4b6cb7, #182848);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
        }
        .container {
            display: none;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        #home-container {
            display: block;
        }
        button {
            background: linear-gradient(135deg, #4b6cb7, #182848);
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            margin: 8px;
            transition: all 0.3s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        button:disabled {
            background: #cccccc;
            transform: none;
            box-shadow: none;
        }
        .balance {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 15px 0;
            text-align: center;
        }
        .ad-container {
            border: 2px dashed #4b6cb7;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            background-color: #f0f5ff;
        }
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4b6cb7, #182848);
            width: 0%;
            transition: width 0.3s;
        }
        #ad-display {
            min-height: 250px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .ad-label {
            font-size: 12px;
            color: #666;
            text-align: center;
            margin-top: 10px;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            flex: 1;
            margin: 0 10px;
        }
        .ad-history {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }
        .ad-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã –≤—ã–≤–æ–¥–∞ */
        #payment-form {
            margin: 20px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        #payment-form input, #payment-form select {
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100%;
        }
    </style>
    <!-- VK Ads Script -->
    <script src="https://vk.com/js/api/openapi.js?169" async></script>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="home-container" class="container">
        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
        <p>–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –¥–µ–Ω—å–≥–∏, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è —Ä–µ–∫–ª–∞–º—É –æ—Ç VK Ads</p>
        
        <div class="balance">
            –í–∞—à –±–∞–ª–∞–Ω—Å: <span id="home-balance">0 ‚ÇΩ</span>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div>üïí –°–µ–≥–æ–¥–Ω—è</div>
                <div><strong id="today-earned">0 ‚ÇΩ</strong></div>
            </div>
            <div class="stat-item">
                <div>üìÖ –í—Å–µ–≥–æ</div>
                <div><strong id="total-earned">0 ‚ÇΩ</strong></div>
            </div>
        </div>
        
        <button onclick="showContainer('ads-container')">–°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É</button>
        <button onclick="showContainer('profile-container')">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</button>
        
        <!-- –ë–ª–æ–∫ VK Ads -->
        <div class="ad-container">
            <div id="vk_ad_main"></div>
            <div class="ad-label">–†–µ–∫–ª–∞–º–∞ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ø–ª–∞—Ç–∏—Ç—å –≤–∞–º</div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∫–ª–∞–º—ã -->
    <div id="ads-container" class="container">
        <h2>–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã</h2>
        <div class="balance">
            –î–æ—Å—Ç—É–ø–Ω–æ: <span id="ads-balance">0 ‚ÇΩ</span>
        </div>
        
        <div class="ad-container">
            <div id="ad-display">
                <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç VK Video Ads -->
                <div id="vk_video_ad"></div>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            <button id="watch-ad-btn">–ù–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä (10 —Å–µ–∫)</button>
            <p id="reward-message" style="text-align: center; color: green;"></p>
        </div>
        
        <div class="ad-history" id="ad-history">
            <h4>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</h4>
            <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —Ä–µ–∫–ª–∞–º—ã -->
        </div>
        
        <button onclick="showContainer('home-container')">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </div>

    <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
    <div id="profile-container" class="container">
        <h2>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
        
        <div class="balance">
            –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞: <span id="profile-balance">0 ‚ÇΩ</span>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div>üìä –í—Å–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                <div><strong id="total-views">0</strong></div>
            </div>
            <div class="stat-item">
                <div>üí∏ –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                <div><strong id="total-earned-profile">0 ‚ÇΩ</strong></div>
            </div>
        </div>
        
        <div id="payment-form">
            <h3>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
            <select id="payment-method">
                <option value="qiwi">QIWI –ö–æ—à–µ–ª–µ–∫</option>
                <option value="yoomoney">–ÆMoney</option>
                <option value="card">–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</option>
            </select>
            <input type="text" id="payment-details" placeholder="–ù–æ–º–µ—Ä –∫–æ—à–µ–ª—å–∫–∞/–∫–∞—Ä—Ç—ã">
            <button id="withdraw-btn">–í—ã–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏</button>
        </div>
        
        <button onclick="showContainer('home-container')">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userData = {
            balance: 0,
            todayEarned: 0,
            totalEarned: 0,
            totalViews: 0,
            adHistory: [],
            lastAdDate: null
        };

        // –†–µ–∫–ª–∞–º–Ω—ã–µ —Ä–æ–ª–∏–∫–∏
        const ads = [
            {
                title: "–ù–æ–≤—ã–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω VK Phone",
                description: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π VK!",
                reward: 5
            },
            {
                title: "–ö—É—Ä—Å—ã VK –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
                description: "–°—Ç–∞–Ω—å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤!",
                reward: 7
            },
            {
                title: "–ú—É–∑—ã–∫–∞ VK",
                description: "–ü–æ–¥–ø–∏—Å–∫–∞ –∑–∞ 1 —Ä—É–±–ª—å –≤ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü!",
                reward: 4
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VK Ads
        function initVKAds() {
            // –ë–∞–Ω–Ω–µ—Ä –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
            VK.Retargeting.Init("–í–ê–®_ID_–†–ï–ö–õ–ê–ú–ù–û–ì–û_–ö–ê–ë–ò–ù–ï–¢–ê");
            VK.Retargeting.Hit();
            
            // –í–∏–¥–µ–æ—Ä–µ–∫–ª–∞–º–∞
            VK.init({
                apiId: –í–ê–®_API_ID,  // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à API ID –∏–∑ VK Dev
                onlyWidgets: true
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function loadUserData() {
            const savedData = localStorage.getItem('adUserData');
            if (savedData) {
                userData = JSON.parse(savedData);
                
                // –°–±—Ä–æ—Å –¥–Ω–µ–≤–Ω–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞, –µ—Å–ª–∏ –¥–µ–Ω—å —Å–º–µ–Ω–∏–ª—Å—è
                const today = new Date().toDateString();
                if (userData.lastAdDate !== today) {
                    userData.todayEarned = 0;
                    userData.lastAdDate = today;
                    saveUserData();
                }
            }
            updateUI();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function saveUserData() {
            localStorage.setItem('adUserData', JSON.stringify(userData));
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
            const formatMoney = (amount) => {
                return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") + ' ‚ÇΩ';
            };

            document.getElementById('home-balance').textContent = formatMoney(userData.balance);
            document.getElementById('today-earned').textContent = formatMoney(userData.todayEarned);
            document.getElementById('total-earned').textContent = formatMoney(userData.totalEarned);
            document.getElementById('ads-balance').textContent = formatMoney(userData.balance);
            document.getElementById('profile-balance').textContent = formatMoney(userData.balance);
            document.getElementById('total-views').textContent = userData.totalViews;
            document.getElementById('total-earned-profile').textContent = formatMoney(userData.totalEarned);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            const historyContainer = document.getElementById('ad-history');
            historyContainer.innerHTML = '<h4>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</h4>';
            
            if (userData.adHistory.length === 0) {
                historyContainer.innerHTML += '<p>–í—ã –µ—â–µ –Ω–µ —Å–º–æ—Ç—Ä–µ–ª–∏ —Ä–µ–∫–ª–∞–º—É</p>';
            } else {
                userData.adHistory.slice().reverse().forEach(item => {
                    const adItem = document.createElement('div');
                    adItem.className = 'ad-item';
                    adItem.innerHTML = `
                        <strong>${item.title}</strong> - 
                        <span style="color: green;">+${item.reward} ‚ÇΩ</span> - 
                        <small>${new Date(item.date).toLocaleString()}</small>
                    `;
                    historyContainer.appendChild(adItem);
                });
            }
        }

        // –ü–æ–∫–∞–∑ —Ä–µ–∫–ª–∞–º—ã
        function showAd() {
            const adContainer = document.getElementById('ad-display');
            const randomAd = ads[Math.floor(Math.random() * ads.length)];
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–¥ VK Video Ads
            adContainer.innerHTML = `
                <h3>${randomAd.title}</h3>
                <p>${randomAd.description}</p>
                <img src="https://via.placeholder.com/300x150?text=VK+Ads" style="max-width: 100%;">
                <p>–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ${randomAd.reward} ‚ÇΩ</p>
            `;
            
            return randomAd;
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã
        document.getElementById('watch-ad-btn').addEventListener('click', function() {
            const btn = this;
            const progressBar = document.getElementById('progress-bar');
            const rewardMessage = document.getElementById('reward-message');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏
            const now = new Date();
            if (userData.lastAdTime && (now - new Date(userData.lastAdTime)) < 30000) {
                alert('–ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏!');
                return;
            }
            
            btn.disabled = true;
            const currentAd = showAd();
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 1;
                progressBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è
                    const reward = currentAd.reward;
                    userData.balance += reward;
                    userData.todayEarned += reward;
                    userData.totalEarned += reward;
                    userData.totalViews += 1;
                    userData.lastAdTime = new Date().toISOString();
                    userData.adHistory.push({
                        title: currentAd.title,
                        reward: reward,
                        date: new Date().toISOString()
                    });
                    
                    saveUserData();
                    updateUI();
                    
                    btn.disabled = false;
                    rewardMessage.textContent = `+${reward} ‚ÇΩ! –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${userData.balance.toLocaleString()} ‚ÇΩ`;
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        showAd();
                        progressBar.style.width = '0%';
                        rewardMessage.textContent = '';
                    }, 2000);
                }
            }, 100); // 100ms * 100 = 10 —Å–µ–∫—É–Ω–¥
        });

        // –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
        document.getElementById('withdraw-btn').addEventListener('click', function() {
            if (userData.balance < 50) {
                alert("–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞ - 50 ‚ÇΩ");
                return;
            }
            
            const method = document.getElementById('payment-method').value;
            const details = document.getElementById('payment-details').value.trim();
            
            if (!details) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –≤—ã–≤–æ–¥–∞!");
                return;
            }
            
            if (confirm(`–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–≤–æ–¥ ${userData.balance.toLocaleString()} ‚ÇΩ –Ω–∞ ${method} (${details})?`)) {
                alert(`–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ ${userData.balance.toLocaleString()} ‚ÇΩ –ø—Ä–∏–Ω—è—Ç–∞! –û–∂–∏–¥–∞–π—Ç–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤.`);
                userData.balance = 0;
                saveUserData();
                updateUI();
                document.getElementById('payment-details').value = '';
            }
        });

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
        function showContainer(containerId) {
            document.querySelectorAll('.container').forEach(container => {
                container.style.display = 'none';
            });
            document.getElementById(containerId).style.display = 'block';
            
            if (containerId === 'ads-container') {
                showAd();
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            initVKAds();
            loadUserData();
        });
    </script>
</body>
</html>